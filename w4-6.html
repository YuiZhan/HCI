<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meme-Bot 表情實驗室</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');

        body {
            font-family: 'JetBrains Mono', monospace;
            background-color: #EBE9E4;
            color: #2D2D2D;
        }

        /* 呼吸懸浮動畫 */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .animate-float {
            animation: float 4s ease-in-out infinite;
        }

        /* 眨眼動畫 */
        @keyframes blink {
            0%, 90%, 100% { transform: scaleY(1); }
            95% { transform: scaleY(0.1); }
        }
        .animate-blink {
            animation: blink 4s infinite;
        }

        /* 背景網格 */
        .bg-grid {
            background-image: radial-gradient(#444 1px, transparent 1px);
            background-size: 24px 24px;
        }

        /* CRT 掃描線 */
        .scanlines {
            background: linear-gradient(
                rgba(18, 16, 16, 0) 50%,
                rgba(0, 0, 0, 0.25) 50%
            ),
            linear-gradient(
                90deg,
                rgba(255, 0, 0, 0.06),
                rgba(0, 255, 0, 0.02),
                rgba(0, 0, 255, 0.06)
            );
            background-size: 100% 2px, 3px 100%;
        }

        /* 木質質感顏色變數 */
        :root {
            --wood-main: #8B5E3C;
            --wood-dark: #5D3A22;
            --wood-light: #A06F48;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 selection:bg-amber-200 overflow-hidden">

    <!-- 背景裝飾 -->
    <div class="fixed inset-0 pointer-events-none opacity-5 bg-grid"></div>

    <div class="max-w-md w-full relative z-10">
        
        <!-- 標題區 -->
        <div class="mb-8 text-center">
            <div class="inline-flex items-center gap-2 border-2 border-black px-4 py-1 rounded-full bg-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]">
                <i data-lucide="terminal" class="w-4 h-4"></i>
                <h1 class="text-lg font-bold tracking-tighter">MEME-BOT 表情實驗室 v1.0</h1>
            </div>
        </div>

        <!-- 機器人展示區 -->
        <div class="bg-white/50 backdrop-blur-sm border-2 border-black rounded-3xl p-8 mb-6 shadow-[8px_8px_0px_0px_rgba(0,0,0,0.1)] relative">
            
            <!-- 對話氣泡 -->
            <div class="absolute top-4 left-0 right-0 px-4 flex justify-center z-20">
                <div id="speech-bubble" class="bg-white border-2 border-black rounded-2xl px-6 py-4 max-w-[280px] text-center shadow-lg transition-all duration-300 transform origin-bottom">
                    <p id="speech-text" class="text-sm md:text-base font-bold leading-relaxed text-black">
                        "系統待機中... 啵。"
                    </p>
                    <!-- 氣泡尾巴 -->
                    <div class="absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white border-b-2 border-r-2 border-black rotate-45"></div>
                </div>
            </div>

            <div class="mt-16 mb-4 flex justify-center">
                <!-- 機器人本體 (Wrapped for Animation) -->
                <div id="robot-container" class="animate-float relative flex flex-col items-center justify-center transition-transform duration-300">
                    
                    <!-- 天線 -->
                    <div class="w-1 h-8 bg-stone-400 mb-[-5px] relative z-0">
                        <div id="antenna-light" class="absolute -top-2 -left-1.5 w-4 h-4 rounded-full bg-green-400 shadow-[0_0_10px_rgba(74,222,128,0.5)] transition-colors duration-300"></div>
                    </div>

                    <!-- 頭部 (木質) -->
                    <div class="relative z-10 w-48 h-40 bg-[#8B5E3C] rounded-2xl border-b-8 border-r-8 border-[#5D3A22] shadow-2xl flex items-center justify-center overflow-hidden">
                        <!-- 木紋細節 -->
                        <div class="absolute top-2 left-4 w-40 h-1 bg-[#A06F48] opacity-30 rounded-full"></div>
                        <div class="absolute bottom-4 right-4 w-20 h-1 bg-[#A06F48] opacity-30 rounded-full"></div>

                        <!-- 臉部螢幕 -->
                        <div id="face-screen" class="w-36 h-24 bg-black rounded-lg relative flex items-center justify-center gap-6 overflow-hidden border-2 border-[#333] shadow-[inset_0_0_20px_rgba(0,0,0,1)]">
                            <!-- 掃描線覆蓋層 -->
                            <div class="scanlines absolute inset-0 z-20 pointer-events-none"></div>

                            <!-- 眼睛容器 -->
                            <div id="eyes-container" class="flex gap-6 z-10">
                                <!-- 預設中立眼睛 -->
                                <div class="eye-neutral w-4 h-4 bg-green-400 rounded-full animate-blink shadow-[0_0_10px_#4ade80]"></div>
                                <div class="eye-neutral w-4 h-4 bg-green-400 rounded-full animate-blink shadow-[0_0_10px_#4ade80]"></div>
                            </div>
                            
                            <!-- Loading/Glitch 文字 (預設隱藏) -->
                            <div id="loading-text" class="hidden absolute inset-0 bg-white/10 flex items-center justify-center z-30">
                                <span class="font-mono text-xs text-green-500">LOADING...</span>
                            </div>
                        </div>
                    </div>

                    <!-- 身體 (木質) -->
                    <div class="w-32 h-24 bg-[#8B5E3C] -mt-2 rounded-b-3xl border-b-8 border-r-8 border-[#5D3A22] shadow-xl relative flex flex-col items-center pt-4">
                        <!-- 胸口面板 -->
                        <div class="w-20 h-12 bg-[#4A3728] rounded border border-[#6B4E3A] flex items-center justify-center gap-2">
                            <div id="led-joy" class="w-2 h-2 rounded-full bg-gray-600 transition-colors"></div>
                            <div id="led-anger" class="w-2 h-2 rounded-full bg-gray-600 transition-colors"></div>
                            <div id="led-sadness" class="w-2 h-2 rounded-full bg-gray-600 transition-colors"></div>
                        </div>
                    </div>
                    
                    <!-- 影子 -->
                    <div id="robot-shadow" class="w-40 h-4 bg-black/20 rounded-[100%] mt-8 blur-md transition-all duration-[4000ms] animate-pulse"></div>
                </div>
            </div>
        </div>

        <!-- 控制面板 -->
        <div class="grid grid-cols-3 gap-4">
            <button onclick="changeMood('joy')" class="group relative bg-[#FFD93D] border-2 border-black rounded-xl p-4 flex flex-col items-center gap-2 hover:-translate-y-1 hover:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:translate-y-0 active:shadow-none transition-all cursor-pointer">
                <i data-lucide="sparkles" class="w-6 h-6 text-black group-hover:scale-110 transition-transform"></i>
                <span class="text-xs font-bold tracking-widest">JOY</span>
            </button>

            <button onclick="changeMood('anger')" class="group relative bg-[#FF6B6B] border-2 border-black rounded-xl p-4 flex flex-col items-center gap-2 hover:-translate-y-1 hover:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:translate-y-0 active:shadow-none transition-all cursor-pointer">
                <i data-lucide="zap" class="w-6 h-6 text-black group-hover:scale-110 transition-transform"></i>
                <span class="text-xs font-bold tracking-widest">ANGER</span>
            </button>

            <button onclick="changeMood('sadness')" class="group relative bg-[#4D96FF] border-2 border-black rounded-xl p-4 flex flex-col items-center gap-2 hover:-translate-y-1 hover:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:translate-y-0 active:shadow-none transition-all cursor-pointer">
                <i data-lucide="cloud-rain" class="w-6 h-6 text-black group-hover:scale-110 transition-transform"></i>
                <span class="text-xs font-bold tracking-widest">SAD</span>
            </button>
        </div>

        <!-- 重置按鈕 -->
        <div class="mt-6 flex justify-center">
            <button onclick="changeMood('neutral')" class="flex items-center gap-2 text-gray-500 hover:text-black transition-colors text-xs font-mono uppercase tracking-widest cursor-pointer">
                <i data-lucide="refresh-cw" class="w-3 h-3"></i>
                System Reset
            </button>
        </div>

    </div>

    <script>
        // 初始化 Icons
        lucide.createIcons();

        // 狀態變數
        let isGlitching = false;
        const memeDatabase = {
            joy: [
                "好耶！這才是人生嘛！ (≧∇≦)/",
                "笑死，這 code 居然能跑！",
                "今天的心情比剛出爐的薯條還脆。",
                "快樂指數溢出，請檢查 Int32 上限。",
                "我看你是懂幽默的喔！"
            ],
            anger: [
                "哼，試試？(╬ Ò ‸ Ó)",
                "警告：耐心值已低於 5%。",
                "我看你是欠電了是吧？",
                "CPU 溫度飆升中，別惹我。",
                "這就是你對待人工智慧的態度嗎？"
            ],
            sadness: [
                "嗚嗚... 我只是一塊沒有靈魂的木頭...",
                "藍瘦，香菇... (´;ω;`)",
                "感覺像是被無限迴圈困住了。",
                "系統偵測到大量洋蔥。",
                "別管我，我去角落長香菇了。"
            ],
            neutral: [
                "系統待機中... 啵。",
                "人類，渴望一些情緒輸入嗎？",
                "正在分析你的微表情...",
                "保持冷靜，繼續 Coding。"
            ]
        };

        // DOM 元素引用
        const eyesContainer = document.getElementById('eyes-container');
        const speechText = document.getElementById('speech-text');
        const speechBubble = document.getElementById('speech-bubble');
        const loadingText = document.getElementById('loading-text');
        const faceScreen = document.getElementById('face-screen');
        const antennaLight = document.getElementById('antenna-light');
        const ledJoy = document.getElementById('led-joy');
        const ledAnger = document.getElementById('led-anger');
        const ledSadness = document.getElementById('led-sadness');

        // 表情 HTML 模板
        const eyeTemplates = {
            joy: `
                <div class="w-8 h-4 border-t-4 border-cyan-400 rounded-t-full shadow-[0_0_10px_#22d3ee]"></div>
                <div class="w-8 h-4 border-t-4 border-cyan-400 rounded-t-full shadow-[0_0_10px_#22d3ee]"></div>
            `,
            anger: `
                <div class="w-8 h-2 bg-red-500 rotate-12 shadow-[0_0_10px_#ef4444]"></div>
                <div class="w-8 h-2 bg-red-500 -rotate-12 shadow-[0_0_10px_#ef4444]"></div>
            `,
            sadness: `
                <div class="w-8 h-2 bg-blue-500 -rotate-12 mt-2 shadow-[0_0_10px_#3b82f6]"></div>
                <div class="w-8 h-2 bg-blue-500 rotate-12 mt-2 shadow-[0_0_10px_#3b82f6]"></div>
            `,
            neutral: `
                <div class="w-4 h-4 bg-green-400 rounded-full animate-blink shadow-[0_0_10px_#4ade80]"></div>
                <div class="w-4 h-4 bg-green-400 rounded-full animate-blink shadow-[0_0_10px_#4ade80]"></div>
            `
        };

        function changeMood(mood) {
            if (isGlitching) return;

            // 開始故障效果
            isGlitching = true;
            loadingText.classList.remove('hidden');
            faceScreen.classList.add('animate-pulse');
            speechBubble.classList.add('scale-95', 'opacity-80');
            eyesContainer.innerHTML = ''; // 清空眼睛

            // 模擬處理時間
            setTimeout(() => {
                // 1. 更新台詞
                const quotes = memeDatabase[mood];
                const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
                speechText.innerText = `"${randomQuote}"`;
                
                // 更新文字顏色
                if (mood === 'anger') speechText.className = "text-sm md:text-base font-bold leading-relaxed text-red-600";
                else if (mood === 'sadness') speechText.className = "text-sm md:text-base font-bold leading-relaxed text-blue-600";
                else speechText.className = "text-sm md:text-base font-bold leading-relaxed text-black";

                // 2. 更新眼睛
                eyesContainer.innerHTML = eyeTemplates[mood];

                // 3. 更新 LED 和天線燈號
                updateLights(mood);

                // 4. 結束故障效果
                loadingText.classList.add('hidden');
                faceScreen.classList.remove('animate-pulse');
                speechBubble.classList.remove('scale-95', 'opacity-80');
                speechBubble.classList.add('scale-100', 'opacity-100');
                
                isGlitching = false;
            }, 300);
        }

        function updateLights(mood) {
            // 重置所有燈號
            ledJoy.className = "w-2 h-2 rounded-full bg-gray-600 transition-colors";
            ledAnger.className = "w-2 h-2 rounded-full bg-gray-600 transition-colors";
            ledSadness.className = "w-2 h-2 rounded-full bg-gray-600 transition-colors";
            antennaLight.className = "absolute -top-2 -left-1.5 w-4 h-4 rounded-full bg-green-400 shadow-[0_0_10px_rgba(74,222,128,0.5)] transition-colors duration-300";

            // 根據情緒點亮
            if (mood === 'joy') {
                ledJoy.className = "w-2 h-2 rounded-full bg-yellow-400 animate-bounce shadow-[0_0_5px_#facc15]";
            } else if (mood === 'anger') {
                ledAnger.className = "w-2 h-2 rounded-full bg-red-500 animate-pulse shadow-[0_0_5px_#ef4444]";
                antennaLight.className = "absolute -top-2 -left-1.5 w-4 h-4 rounded-full bg-red-500 animate-pulse shadow-[0_0_10px_rgba(239,68,68,0.5)]";
            } else if (mood === 'sadness') {
                ledSadness.className = "w-2 h-2 rounded-full bg-blue-500 animate-bounce shadow-[0_0_5px_#3b82f6]";
            }
        }
    </script>
</body>
</html>
